<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Working with Property Price Indices • realestatebr</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Working with Property Price Indices">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">realestatebr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.4.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item"><a class="nav-link" href="../articles/index.html">Articles</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Working with Property Price Indices</h1>
            
      

      <div class="d-none name"><code>working-with-rppi.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>Brazil has several Residential Property Price Indices (RPPI) from
different sources, each with unique methodologies and coverage. This
vignette shows how to access and analyze these indices using the
realestatebr package.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://viniciusoike.github.io/realestatebr/">realestatebr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Helper function for consistent plot styling</span></span>
<span><span class="va">theme_series</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_minimal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span></span>
<span>    legend.position <span class="op">=</span> <span class="st">"bottom"</span>,</span>
<span>    palette.colour.discrete <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"#2C6BB3"</span>, <span class="st">"#1abc9c"</span>, <span class="st">"#f39c12"</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="available-rppi-datasets">Available RPPI Datasets<a class="anchor" aria-label="anchor" href="#available-rppi-datasets"></a>
</h2>
<div class="section level3">
<h3 id="individual-indices">Individual Indices<a class="anchor" aria-label="anchor" href="#individual-indices"></a>
</h3>
<p>Access specific RPPI by name:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># FipeZap Index (most comprehensive - 20 cities)</span></span>
<span><span class="va">fipezap</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_dataset.html">get_dataset</a></span><span class="op">(</span><span class="st">"rppi"</span>, <span class="st">"fipezap"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># IVGR - National sales index from BCB</span></span>
<span><span class="va">ivgr</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_dataset.html">get_dataset</a></span><span class="op">(</span><span class="st">"rppi"</span>, <span class="st">"ivgr"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># IGMI - Hedonic sales index from FGV</span></span>
<span><span class="va">igmi</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_dataset.html">get_dataset</a></span><span class="op">(</span><span class="st">"rppi"</span>, <span class="st">"igmi"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># IVAR - Rent index from FGV</span></span>
<span><span class="va">ivar</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_dataset.html">get_dataset</a></span><span class="op">(</span><span class="st">"rppi"</span>, <span class="st">"ivar"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># IQA - QuintoAndar rent prices</span></span>
<span><span class="va">iqa</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_dataset.html">get_dataset</a></span><span class="op">(</span><span class="st">"rppi"</span>, <span class="st">"iqa"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Secovi-SP - São Paulo market index</span></span>
<span><span class="va">secovi_sp</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_dataset.html">get_dataset</a></span><span class="op">(</span><span class="st">"rppi"</span>, <span class="st">"secovi_sp"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="stacked-indices">Stacked Indices<a class="anchor" aria-label="anchor" href="#stacked-indices"></a>
</h3>
<p>For easy comparison across sources:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># All sale indices in one table</span></span>
<span><span class="va">sale_indices</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_dataset.html">get_dataset</a></span><span class="op">(</span><span class="st">"rppi"</span>, <span class="st">"sale"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">sale_indices</span><span class="op">$</span><span class="va">source</span><span class="op">)</span></span>
<span><span class="co"># Shows: IGMI-R, IVG-R, FipeZap, Secovi-SP</span></span>
<span></span>
<span><span class="co"># All rent indices</span></span>
<span><span class="va">rent_indices</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_dataset.html">get_dataset</a></span><span class="op">(</span><span class="st">"rppi"</span>, <span class="st">"rent"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">rent_indices</span><span class="op">$</span><span class="va">source</span><span class="op">)</span></span>
<span><span class="co"># Shows: IVAR, IQA, Secovi-SP, FipeZap</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="understanding-the-data-structure">Understanding the Data Structure<a class="anchor" aria-label="anchor" href="#understanding-the-data-structure"></a>
</h2>
<div class="section level3">
<h3 id="common-columns">Common Columns<a class="anchor" aria-label="anchor" href="#common-columns"></a>
</h3>
<p>Most RPPI datasets share these columns:</p>
<ul>
<li>
<strong>date</strong>: Reference date (usually month-end)</li>
<li>
<strong>index</strong>: Index number (base varies by source)</li>
<li>
<strong>chg</strong>: Monthly percent change</li>
<li>
<strong>acum12m</strong>: 12-month accumulated change</li>
<li>
<strong>name_muni</strong>: City or region name</li>
</ul>
</div>
<div class="section level3">
<h3 id="special-cases">Special Cases<a class="anchor" aria-label="anchor" href="#special-cases"></a>
</h3>
<p><strong>IQA (QuintoAndar)</strong>: Returns <code>rent_price</code>
(median rent per m²) instead of an index value</p>
<p><strong>FipeZap</strong>: Most comprehensive dataset with additional
dimensions: - <strong>market</strong>: residential or commercial -
<strong>rooms</strong>: breakdown by number of bedrooms (1, 2, 3, 4+,
total) - <strong>variable</strong>: index, price_m2, or listings -
<strong>rent_sale</strong>: sale or rent market</p>
</div>
</div>
<div class="section level2">
<h2 id="example-comparing-national-sale-indices">Example: Comparing National Sale Indices<a class="anchor" aria-label="anchor" href="#example-comparing-national-sale-indices"></a>
</h2>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Get stacked sale data</span></span>
<span><span class="va">sales</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_dataset.html">get_dataset</a></span><span class="op">(</span><span class="st">"rppi"</span>, <span class="st">"sale"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Filter for national indices</span></span>
<span><span class="va">national</span> <span class="op">&lt;-</span> <span class="va">sales</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">name_muni</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Brazil"</span>, <span class="st">"Brasil"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Plot comparison</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">national</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">date</span>, y <span class="op">=</span> <span class="va">index</span>, color <span class="op">=</span> <span class="va">source</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span>linewidth <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Brazil National RPPI - Sales"</span>,</span>
<span>       subtitle <span class="op">=</span> <span class="st">"Different methodologies, same trend"</span>,</span>
<span>       x <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>       y <span class="op">=</span> <span class="st">"Index (base varies by source)"</span>,</span>
<span>       color <span class="op">=</span> <span class="st">"Source"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">theme_series</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="example-fipezap-by-city">Example: FipeZap by City<a class="anchor" aria-label="anchor" href="#example-fipezap-by-city"></a>
</h2>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Get FipeZap data</span></span>
<span><span class="va">fz</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_dataset.html">get_dataset</a></span><span class="op">(</span><span class="st">"rppi"</span>, <span class="st">"fipezap"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Filter for major cities - residential sale index</span></span>
<span><span class="va">cities</span> <span class="op">&lt;-</span> <span class="va">fz</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span></span>
<span>    <span class="va">market</span> <span class="op">==</span> <span class="st">"residential"</span>,</span>
<span>    <span class="va">rooms</span> <span class="op">==</span> <span class="st">"total"</span>,</span>
<span>    <span class="va">variable</span> <span class="op">==</span> <span class="st">"index"</span>,</span>
<span>    <span class="va">rent_sale</span> <span class="op">==</span> <span class="st">"sale"</span>,</span>
<span>    <span class="va">name_muni</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"São Paulo"</span>, <span class="st">"Rio De Janeiro"</span>, <span class="st">"Belo Horizonte"</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="co"># Plot</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">cities</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">date</span>, y <span class="op">=</span> <span class="va">value</span>, color <span class="op">=</span> <span class="va">name_muni</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span>linewidth <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"FipeZap Sale Index - Major Cities"</span>,</span>
<span>       x <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>       y <span class="op">=</span> <span class="st">"Index"</span>,</span>
<span>       color <span class="op">=</span> <span class="st">"City"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">theme_series</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="example-rent-vs-sale---são-paulo">Example: Rent vs Sale - São Paulo<a class="anchor" aria-label="anchor" href="#example-rent-vs-sale---s%C3%A3o-paulo"></a>
</h2>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Get FipeZap data</span></span>
<span><span class="va">fz</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_dataset.html">get_dataset</a></span><span class="op">(</span><span class="st">"rppi"</span>, <span class="st">"fipezap"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Filter for São Paulo - both rent and sale</span></span>
<span><span class="va">sp_data</span> <span class="op">&lt;-</span> <span class="va">fz</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span></span>
<span>    <span class="va">name_muni</span> <span class="op">==</span> <span class="st">"São Paulo"</span>,</span>
<span>    <span class="va">market</span> <span class="op">==</span> <span class="st">"residential"</span>,</span>
<span>    <span class="va">rooms</span> <span class="op">==</span> <span class="st">"total"</span>,</span>
<span>    <span class="va">variable</span> <span class="op">==</span> <span class="st">"index"</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">date</span>, <span class="va">rent_sale</span>, <span class="va">value</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Plot comparison</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">sp_data</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">date</span>, y <span class="op">=</span> <span class="va">value</span>, color <span class="op">=</span> <span class="va">rent_sale</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span>linewidth <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"São Paulo: Rent vs Sale Index"</span>,</span>
<span>       subtitle <span class="op">=</span> <span class="st">"FipeZap residential index"</span>,</span>
<span>       x <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>       y <span class="op">=</span> <span class="st">"Index"</span>,</span>
<span>       color <span class="op">=</span> <span class="st">"Type"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">theme_series</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="example-regional-comparison-with-igmi">Example: Regional Comparison with IGMI<a class="anchor" aria-label="anchor" href="#example-regional-comparison-with-igmi"></a>
</h2>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Get IGMI data</span></span>
<span><span class="va">igmi</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_dataset.html">get_dataset</a></span><span class="op">(</span><span class="st">"rppi"</span>, <span class="st">"igmi"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Major cities comparison</span></span>
<span><span class="va">cities_igmi</span> <span class="op">&lt;-</span> <span class="va">igmi</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">name_muni</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"São Paulo"</span>, <span class="st">"Rio De Janeiro"</span>,</span>
<span>                          <span class="st">"Belo Horizonte"</span>, <span class="st">"Brasília"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Plot with facets</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">cities_igmi</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">date</span>, y <span class="op">=</span> <span class="va">index</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span>color <span class="op">=</span> <span class="st">"steelblue"</span>, linewidth <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html" class="external-link">facet_wrap</a></span><span class="op">(</span><span class="op">~</span><span class="va">name_muni</span>, scales <span class="op">=</span> <span class="st">"free_y"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"IGMI Sale Index by City"</span>,</span>
<span>       x <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>       y <span class="op">=</span> <span class="st">"Index"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_minimal</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="example-year-over-year-changes">Example: Year-over-Year Changes<a class="anchor" aria-label="anchor" href="#example-year-over-year-changes"></a>
</h2>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Get IVGR national index</span></span>
<span><span class="va">ivgr</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_dataset.html">get_dataset</a></span><span class="op">(</span><span class="st">"rppi"</span>, <span class="st">"ivgr"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Plot 12-month accumulated change</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">ivgr</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">date</span>, y <span class="op">=</span> <span class="va">acum12m</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span>linewidth <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html" class="external-link">geom_hline</a></span><span class="op">(</span>yintercept <span class="op">=</span> <span class="fl">0</span>, linetype <span class="op">=</span> <span class="st">"dashed"</span>, color <span class="op">=</span> <span class="st">"red"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Brazil Property Prices - Year-over-Year Change"</span>,</span>
<span>       subtitle <span class="op">=</span> <span class="st">"IVG-R from BCB"</span>,</span>
<span>       x <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>       y <span class="op">=</span> <span class="st">"12-month accumulated change (%)"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_minimal</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="international-comparison">International Comparison<a class="anchor" aria-label="anchor" href="#international-comparison"></a>
</h2>
<p>The package includes international RPPI data from the Bank for
International Settlements (BIS):</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Get BIS international RPPI</span></span>
<span><span class="va">bis</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_dataset.html">get_dataset</a></span><span class="op">(</span><span class="st">"rppi_bis"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Filter for select countries</span></span>
<span><span class="va">countries</span> <span class="op">&lt;-</span> <span class="va">bis</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span></span>
<span>    <span class="va">reference_area</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Brazil"</span>, <span class="st">"United States"</span>, <span class="st">"Japan"</span>, <span class="st">"Germany"</span><span class="op">)</span>,</span>
<span>    <span class="va">is_nominal</span> <span class="op">==</span> <span class="cn">TRUE</span>,</span>
<span>    <span class="va">unit</span> <span class="op">==</span> <span class="st">"Index, 2010 = 100"</span>,</span>
<span>    <span class="va">date</span> <span class="op">&gt;=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="st">"2000-01-01"</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="co"># Plot comparison</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">countries</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">date</span>, y <span class="op">=</span> <span class="va">value</span>, color <span class="op">=</span> <span class="va">reference_area</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span>linewidth <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Residential Property Prices - International"</span>,</span>
<span>       subtitle <span class="op">=</span> <span class="st">"Nominal indices, 2010 = 100"</span>,</span>
<span>       x <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>       y <span class="op">=</span> <span class="st">"Index (2010 = 100)"</span>,</span>
<span>       color <span class="op">=</span> <span class="st">"Country"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">theme_series</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="understanding-index-bases">Understanding Index Bases<a class="anchor" aria-label="anchor" href="#understanding-index-bases"></a>
</h2>
<p>Each RPPI uses a different base period:</p>
<ul>
<li>
<strong>FipeZap</strong>: January 2011 = 100</li>
<li>
<strong>IVGR</strong>: January 2010 = 100</li>
<li>
<strong>IGMI</strong>: August 2010 = 100</li>
<li>
<strong>IVAR</strong>: January 2010 = 100</li>
<li>
<strong>Secovi-SP</strong>: January 2009 = 100</li>
</ul>
<p>When comparing indices, focus on <strong>growth rates</strong> (chg,
acum12m) rather than absolute index levels.</p>
</div>
<div class="section level2">
<h2 id="key-differences-between-indices">Key Differences Between Indices<a class="anchor" aria-label="anchor" href="#key-differences-between-indices"></a>
</h2>
<div class="section level3">
<h3 id="coverage">Coverage<a class="anchor" aria-label="anchor" href="#coverage"></a>
</h3>
<ul>
<li>
<strong>FipeZap</strong>: 20 cities, most comprehensive geographic
coverage</li>
<li>
<strong>IVGR</strong>: National focus with some city detail</li>
<li>
<strong>IGMI</strong>: Major cities with hedonic adjustment</li>
<li>
<strong>IVAR</strong>: 16 cities, rent-specific</li>
<li>
<strong>IQA</strong>: Median rent prices (not an index)</li>
</ul>
</div>
<div class="section level3">
<h3 id="methodology">Methodology<a class="anchor" aria-label="anchor" href="#methodology"></a>
</h3>
<ul>
<li>
<strong>IGMI</strong>: Hedonic pricing model (controls for property
characteristics)</li>
<li>
<strong>IVGR/IVAR</strong>: Repeat-sales methodology</li>
<li>
<strong>FipeZap</strong>: Median prices from listings</li>
<li>
<strong>IQA</strong>: Actual contract prices (unique!)</li>
</ul>
</div>
<div class="section level3">
<h3 id="frequency">Frequency<a class="anchor" aria-label="anchor" href="#frequency"></a>
</h3>
<p>All indices are monthly, but historical coverage varies: - IVGR:
2001-present - IGMI: 2010-present - FipeZap: 2011-present - IVAR:
2008-present</p>
</div>
</div>
<div class="section level2">
<h2 id="analysis-tips">Analysis Tips<a class="anchor" aria-label="anchor" href="#analysis-tips"></a>
</h2>
<div class="section level3">
<h3 id="use-stacked-data-for-easy-comparisons">1. Use Stacked Data for Easy Comparisons<a class="anchor" aria-label="anchor" href="#use-stacked-data-for-easy-comparisons"></a>
</h3>
<p>Stacked data makes it easier to compare multiple indices:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Get all sale indices in one table</span></span>
<span><span class="va">all_sale</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_dataset.html">get_dataset</a></span><span class="op">(</span><span class="st">"rppi"</span>, table <span class="op">=</span> <span class="st">"sale"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Compare across sources</span></span>
<span><span class="va">all_sale</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">name_muni</span> <span class="op">==</span> <span class="st">"São Paulo"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">date</span>, y <span class="op">=</span> <span class="va">acum12m</span>, color <span class="op">=</span> <span class="va">source</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"São Paulo Sale Indices Comparison"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="normalize-indices-when-comparing-levels">2. Normalize Indices When Comparing Levels<a class="anchor" aria-label="anchor" href="#normalize-indices-when-comparing-levels"></a>
</h3>
<p>Since each index has a different base period, normalize them for
direct comparison:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sales</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_dataset.html">get_dataset</a></span><span class="op">(</span><span class="st">"rppi"</span>, table <span class="op">=</span> <span class="st">"sale"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">sales_normalized</span> <span class="op">&lt;-</span> <span class="va">sales</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">source</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>index_normalized <span class="op">=</span> <span class="fl">100</span> <span class="op">*</span> <span class="va">index</span> <span class="op">/</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/nth.html" class="external-link">first</a></span><span class="op">(</span><span class="va">index</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">ungroup</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="compare-growth-rates-not-levels">3. Compare Growth Rates, Not Levels<a class="anchor" aria-label="anchor" href="#compare-growth-rates-not-levels"></a>
</h3>
<p>Growth rates are more meaningful than absolute index levels:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># 12-month growth comparison</span></span>
<span><span class="va">sales</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">date</span>, y <span class="op">=</span> <span class="va">acum12m</span>, color <span class="op">=</span> <span class="va">source</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>y <span class="op">=</span> <span class="st">"12-month change (%)"</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="next-steps">Next Steps<a class="anchor" aria-label="anchor" href="#next-steps"></a>
</h2>
<ul>
<li>See <code><a href="../articles/getting-started.html">vignette("getting-started")</a></code> for package basics</li>
<li>See <code><a href="../reference/get_dataset.html">?get_dataset</a></code> for all available tables</li>
<li>Explore city-level data with FipeZap</li>
<li>Compare methodologies across indices</li>
<li>Analyze rent vs sale dynamics</li>
</ul>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Vinicius Oike Reginatto.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
