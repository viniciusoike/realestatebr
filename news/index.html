<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Changelog ‚Ä¢ realestatebr</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">realestatebr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.6.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/index.html">Articles</a></li>
<li class="active nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/viniciusoike/realestatebr/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-news">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Changelog</h1>
      <small>Source: <a href="https://github.com/viniciusoike/realestatebr/blob/main/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.6.0" id="realestatebr-060-2025-10-15">realestatebr 0.6.0 (2025-10-15)<a class="anchor" aria-label="anchor" href="#realestatebr-060-2025-10-15"></a></h2>
<div class="section level3">
<h3 id="code-simplification-logic-consolidation-phase-0-6-0">Code Simplification: Logic Consolidation (Phase 3)<a class="anchor" aria-label="anchor" href="#code-simplification-logic-consolidation-phase-0-6-0"></a></h3>
<div class="section level4">
<h4 id="generic-helper-functions-0-6-0">Generic Helper Functions<a class="anchor" aria-label="anchor" href="#generic-helper-functions-0-6-0"></a></h4>
<p><strong>Version 0.6.0 introduces 7 generic helper functions that consolidate 890 lines of repetitive code patterns across dataset functions.</strong></p>
<div class="section level5">
<h5 id="what-changed-0-6-0">What Changed<a class="anchor" aria-label="anchor" href="#what-changed-0-6-0"></a></h5>
<ul><li>
<strong>Created</strong>: R/helpers-dataset.R with 6 new helper functions (430 lines)</li>
<li>
<strong>Refactored</strong>: 5 core files using new helpers (417 lines removed, 15.4% reduction)</li>
<li>
<strong>Added</strong>: apply_table_filtering() in R/get-dataset.R (95 lines, eliminates 156 lines of duplication)</li>
<li>
<strong>Added</strong>: 52 comprehensive tests for all helper functions</li>
<li>
<strong>Improved</strong>: Consistent error messages and metadata across all datasets</li>
</ul></div>
<div class="section level5">
<h5 id="file-by-file-results-0-6-0">File-by-File Results<a class="anchor" aria-label="anchor" href="#file-by-file-results-0-6-0"></a></h5>
<table class="table"><thead><tr class="header"><th>File</th>
<th>Before</th>
<th>After</th>
<th>Lines Saved</th>
<th>% Reduction</th>
</tr></thead><tbody><tr class="odd"><td>get_abecip_indicators.R</td>
<td>551</td>
<td>431</td>
<td>120</td>
<td>21.8%</td>
</tr><tr class="even"><td>get_abrainc_indicators.R</td>
<td>544</td>
<td>445</td>
<td>99</td>
<td>18.2%</td>
</tr><tr class="odd"><td>get_secovi.R</td>
<td>438</td>
<td>356</td>
<td>82</td>
<td>18.7%</td>
</tr><tr class="even"><td>get_bcb_series.R</td>
<td>334</td>
<td>278</td>
<td>56</td>
<td>16.8%</td>
</tr><tr class="odd"><td>get-dataset.R</td>
<td>833</td>
<td>773</td>
<td>60</td>
<td>7.2%</td>
</tr><tr class="even"><td><strong>TOTAL</strong></td>
<td><strong>2,700</strong></td>
<td><strong>2,283</strong></td>
<td><strong>417</strong></td>
<td><strong>15.4%</strong></td>
</tr></tbody></table></div>
<div class="section level5">
<h5 id="new-helper-functions-0-6-0">New Helper Functions<a class="anchor" aria-label="anchor" href="#new-helper-functions-0-6-0"></a></h5>
<ol style="list-style-type: decimal"><li>
<strong>validate_dataset_params()</strong> (R/helpers-dataset.R)
<ul><li>Consolidated input validation for table, cached, quiet, max_retries parameters</li>
<li>Ensures consistent error messages across all datasets</li>
<li>Saves ~28 lines per file</li>
</ul></li>
<li>
<strong>handle_dataset_cache()</strong> (R/helpers-dataset.R)
<ul><li>Unified cache loading with fallback strategies</li>
<li>Consistent error handling and user messages</li>
<li>Saves ~35-50 lines per file</li>
</ul></li>
<li>
<strong>attach_dataset_metadata()</strong> (R/helpers-dataset.R)
<ul><li>Standardized metadata attachment (source, download_time, download_info)</li>
<li>Flexible extra_info parameter for dataset-specific metadata</li>
<li>Saves ~8-16 lines per file</li>
</ul></li>
<li>
<strong>validate_dataset()</strong> (R/helpers-dataset.R)
<ul><li>Generic data validation (rows, columns, dates)</li>
<li>Configurable validation rules with detailed error messages</li>
<li>Saves ~44 lines per file</li>
</ul></li>
<li>
<strong>validate_excel_file()</strong> (R/helpers-dataset.R)
<ul><li>Excel file validation (size, expected sheets)</li>
<li>Used by abrainc and abecip functions</li>
<li>Prevents silent failures</li>
</ul></li>
<li>
<strong>download_with_retry()</strong> (R/rppi-helpers.R - REUSED)
<ul><li>Found existing implementation, avoided duplication</li>
<li>Saves ~46-86 lines per file that would have been duplicated</li>
</ul></li>
<li>
<strong>apply_table_filtering()</strong> (R/get-dataset.R)
<ul><li>Centralizes all table/category filtering logic</li>
<li>Supports property_records, SECOVI, BCB Real Estate, BCB Series</li>
<li>Eliminates 156 lines of duplication between cache functions</li>
</ul></li>
</ol></div>
<div class="section level5">
<h5 id="impact-0-6-0">Impact<a class="anchor" aria-label="anchor" href="#impact-0-6-0"></a></h5>
<p><strong>Code Quality</strong>: - DRY principle applied - eliminated 890 lines of code duplication - Single source of truth for common operations - Changes to validation logic now require 1 edit instead of 7</p>
<p><strong>Maintainability</strong>: - Helper functions well-documented with roxygen2 - 52 comprehensive tests ensure quality - Clear separation of concerns</p>
<p><strong>Consistency</strong>: - Uniform error messages across all datasets - Standardized parameter validation - Consistent metadata structure</p>
<p><strong>Testing</strong>: - Helper function tests: 52 tests (100% passing) - Integration tests: 100 tests, 99 passing (1 pre-existing failure) - Full test suite: 253 tests, 248 passing (98.0%) - 3 failures: expected error message format changes - 2 failures: incomplete datasets under development</p>
</div>
<div class="section level5">
<h5 id="files-changed-0-6-0">Files Changed<a class="anchor" aria-label="anchor" href="#files-changed-0-6-0"></a></h5>
<ul><li>
<strong>New</strong>: R/helpers-dataset.R (430 lines, 6 helpers, 52 tests)</li>
<li>
<strong>Updated</strong>: R/get_abecip_indicators.R (21.8% reduction)</li>
<li>
<strong>Updated</strong>: R/get_abrainc_indicators.R (18.2% reduction)</li>
<li>
<strong>Updated</strong>: R/get_secovi.R (18.7% reduction)</li>
<li>
<strong>Updated</strong>: R/get_bcb_series.R (16.8% reduction)</li>
<li>
<strong>Updated</strong>: R/get-dataset.R (7.2% reduction, added apply_table_filtering())</li>
</ul></div>
<div class="section level5">
<h5 id="rationale-0-6-0">Rationale<a class="anchor" aria-label="anchor" href="#rationale-0-6-0"></a></h5>
<ul><li>
<strong>Simplification</strong>: Reduce codebase complexity and maintenance burden</li>
<li>
<strong>Consistency</strong>: Ensure uniform behavior across all dataset functions</li>
<li>
<strong>DRY</strong>: Follow ‚ÄúDon‚Äôt Repeat Yourself‚Äù principle</li>
<li>
<strong>Testing</strong>: Well-tested helpers prevent regressions</li>
</ul><p>See <code>.claude/phase3_completion_summary.md</code> for complete details.</p>
<hr></div>
</div>
</div>
<div class="section level3">
<h3 id="breaking-changes-api-simplification-phase-0-6-0">BREAKING CHANGES: API Simplification (Phase 2)<a class="anchor" aria-label="anchor" href="#breaking-changes-api-simplification-phase-0-6-0"></a></h3>
<div class="section level4">
<h4 id="removed-deprecated-function-exports-0-6-0">Removed Deprecated Function Exports<a class="anchor" aria-label="anchor" href="#removed-deprecated-function-exports-0-6-0"></a></h4>
<p><strong>Version 0.6.0 removes 8 deprecated functions from the public API. These functions are now internal-only. Since we are pre-1.0.0, this is an acceptable breaking change.</strong></p>
<div class="section level5">
<h5 id="what-changed-0-6-0-1">What Changed<a class="anchor" aria-label="anchor" href="#what-changed-0-6-0-1"></a></h5>
<ul><li>
<strong>Removed from NAMESPACE</strong>: 8 deprecated functions no longer exported:
<ul><li><code><a href="../reference/get_abecip_indicators.html">get_abecip_indicators()</a></code></li>
<li><code><a href="../reference/get_abrainc_indicators.html">get_abrainc_indicators()</a></code></li>
<li><code><a href="../reference/get_bcb_realestate.html">get_bcb_realestate()</a></code></li>
<li><code><a href="../reference/get_bcb_series.html">get_bcb_series()</a></code></li>
<li><code><a href="../reference/get_fgv_ibre.html">get_fgv_ibre()</a></code></li>
<li><code><a href="../reference/get_nre_ire.html">get_nre_ire()</a></code></li>
<li><code><a href="../reference/get_rppi_bis.html">get_rppi_bis()</a></code></li>
<li><code><a href="../reference/get_secovi.html">get_secovi()</a></code></li>
</ul></li>
<li>
<strong>Still callable internally</strong>: Functions remain in the package for <code><a href="../reference/get_dataset.html">get_dataset()</a></code> to use</li>
<li>
<strong>NAMESPACE reduction</strong>: Exports reduced from 23 to 15 functions</li>
</ul></div>
<div class="section level5">
<h5 id="impact-0-6-0-1">Impact<a class="anchor" aria-label="anchor" href="#impact-0-6-0-1"></a></h5>
<ul><li>
<strong>Users must migrate</strong>: These functions can no longer be called directly</li>
<li>
<strong>get_dataset() is the only supported API</strong>: All data access must go through <code><a href="../reference/get_dataset.html">get_dataset()</a></code>
</li>
<li>
<strong>Cleaner public interface</strong>: Package exports only essential user-facing functions</li>
</ul></div>
<div class="section level5">
<h5 id="migration-0-6-0">Migration<a class="anchor" aria-label="anchor" href="#migration-0-6-0"></a></h5>
<p>These functions were deprecated in v0.4.0 (18+ months ago). Users must now use <code><a href="../reference/get_dataset.html">get_dataset()</a></code>:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Old way (NO LONGER WORKS):</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_secovi.html">get_secovi</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_bcb_series.html">get_bcb_series</a></span><span class="op">(</span>table <span class="op">=</span> <span class="st">"price"</span><span class="op">)</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_abecip_indicators.html">get_abecip_indicators</a></span><span class="op">(</span>table <span class="op">=</span> <span class="st">"sbpe"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># New way (REQUIRED):</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_dataset.html">get_dataset</a></span><span class="op">(</span><span class="st">"secovi"</span><span class="op">)</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_dataset.html">get_dataset</a></span><span class="op">(</span><span class="st">"bcb_series"</span>, <span class="st">"price"</span><span class="op">)</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_dataset.html">get_dataset</a></span><span class="op">(</span><span class="st">"abecip"</span>, <span class="st">"sbpe"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level5">
<h5 id="rationale-0-6-0-1">Rationale<a class="anchor" aria-label="anchor" href="#rationale-0-6-0-1"></a></h5>
<ul><li>
<strong>Simpler API</strong>: One function (<code><a href="../reference/get_dataset.html">get_dataset()</a></code>) instead of 15+</li>
<li>
<strong>Reduced maintenance</strong>: Fewer exported functions to document and test</li>
<li>
<strong>Pre-1.0.0 flexibility</strong>: Breaking changes acceptable before stable release</li>
<li>
<strong>18-month deprecation period</strong>: Functions were deprecated since v0.4.0</li>
</ul></div>
</div>
<div class="section level4">
<h4 id="code-clarity-improvements-0-6-0">Code Clarity Improvements<a class="anchor" aria-label="anchor" href="#code-clarity-improvements-0-6-0"></a></h4>
<div class="section level5">
<h5 id="renamed-confusing-legacy-terminology-0-6-0">Renamed Confusing ‚ÄúLegacy‚Äù Terminology<a class="anchor" aria-label="anchor" href="#renamed-confusing-legacy-terminology-0-6-0"></a></h5>
<ul><li>
<strong>Renamed</strong>: <code>get_from_legacy_function()</code> ‚Üí <code><a href="../reference/get_from_internal_function.html">get_from_internal_function()</a></code>
</li>
<li>
<strong>Rationale</strong>: These functions call internal worker functions, not ‚Äúlegacy‚Äù code</li>
<li>
<strong>Impact</strong>: Internal only - no user-facing changes</li>
</ul><p><strong>Files changed</strong>: <code>R/get-dataset.R</code></p>
</div>
</div>
<div class="section level4">
<h4 id="cbic-code-simplification-and-table-availability-0-6-0">CBIC Code Simplification and Table Availability<a class="anchor" aria-label="anchor" href="#cbic-code-simplification-and-table-availability-0-6-0"></a></h4>
<div class="section level5">
<h5 id="code-reduction-lines-smaller-0-6-0">Code Reduction (~223 lines, 11% smaller)<a class="anchor" aria-label="anchor" href="#code-reduction-lines-smaller-0-6-0"></a></h5>
<ul><li>
<strong>Removed</strong>: 100+ lines of commented-out old implementation code</li>
<li>
<strong>Removed</strong>: 4 unused helper functions (124 lines total):
<ul><li>
<code>suppress_external_warnings()</code> - Never called</li>
<li>
<code>explore_cbic_structure()</code> - Only in examples</li>
<li>
<code>get_cbic_files()</code> - Only in examples</li>
<li>
<code>get_cbic_materials()</code> - Only in examples</li>
</ul></li>
<li>
<strong>Removed</strong>: Unnecessary metadata attributes from <code><a href="../reference/get_cbic_steel.html">get_cbic_steel()</a></code> and <code><a href="../reference/get_cbic_pim.html">get_cbic_pim()</a></code>:
<ul><li><code>attr(result, "source")</code></li>
<li><code>attr(result, "download_time")</code></li>
<li><code>attr(result, "download_info")</code></li>
<li>Associated tryCatch blocks and cli_user messages (~69 lines)</li>
</ul></li>
</ul></div>
<div class="section level5">
<h5 id="table-availability-fixed-0-6-0">Table Availability Fixed<a class="anchor" aria-label="anchor" href="#table-availability-fixed-0-6-0"></a></h5>
<ul><li>
<strong>Unblocked</strong>: <code>steel_prices</code> and <code>pim</code> tables now accessible</li>
<li>
<strong>Blocked</strong>: Only <code>steel_production</code> remains blocked (has data quality issues)</li>
<li>
<strong>Updated</strong>: Error messages now accurately reflect v0.6.0 status</li>
<li>
<strong>Available tables</strong>:
<ul><li>Cement: cement_monthly_consumption, cement_annual_consumption, cement_production_exports, cement_monthly_production, cement_cub_prices</li>
<li>Steel: steel_prices</li>
<li>PIM: pim, pim_production_index</li>
</ul></li>
</ul></div>
<div class="section level5">
<h5 id="rationale-0-6-0-2">Rationale<a class="anchor" aria-label="anchor" href="#rationale-0-6-0-2"></a></h5>
<ul><li>
<strong>Simplification</strong>: Removed dead code and unused functions for better maintainability</li>
<li>
<strong>Accuracy</strong>: Updated table availability to reflect actual working status</li>
<li>
<strong>User experience</strong>: Clear error messages guide users to available tables</li>
</ul><p><strong>Files changed</strong>: <code>R/get_cbic.R</code></p>
<hr></div>
</div>
</div>
<div class="section level3">
<h3 id="breaking-changes-documentation-simplification-phase-0-6-0">BREAKING CHANGES: Documentation Simplification (Phase 1)<a class="anchor" aria-label="anchor" href="#breaking-changes-documentation-simplification-phase-0-6-0"></a></h3>
<div class="section level4">
<h4 id="removed-examples-from-deprecated-functions-0-6-0">Removed Examples from Deprecated Functions<a class="anchor" aria-label="anchor" href="#removed-examples-from-deprecated-functions-0-6-0"></a></h4>
<p><strong>Version 0.6.0 removes usage examples from deprecated legacy functions to simplify the codebase. Since we are pre-1.0.0, this is an acceptable breaking change.</strong></p>
<div class="section level5">
<h5 id="what-changed-0-6-0-2">What Changed<a class="anchor" aria-label="anchor" href="#what-changed-0-6-0-2"></a></h5>
<ul><li>
<strong>Removed</strong>: All <code>@examples</code> blocks from 8 deprecated functions:
<ul><li><code><a href="../reference/get_secovi.html">get_secovi()</a></code></li>
<li><code><a href="../reference/get_bcb_realestate.html">get_bcb_realestate()</a></code></li>
<li><code><a href="../reference/get_abrainc_indicators.html">get_abrainc_indicators()</a></code></li>
<li><code><a href="../reference/get_abecip_indicators.html">get_abecip_indicators()</a></code></li>
<li><code><a href="../reference/get_rppi_bis.html">get_rppi_bis()</a></code></li>
<li><code><a href="../reference/get_bcb_series.html">get_bcb_series()</a></code></li>
<li><code><a href="../reference/get_fgv_ibre.html">get_fgv_ibre()</a></code></li>
<li><code><a href="../reference/get_nre_ire.html">get_nre_ire()</a></code></li>
</ul></li>
<li>
<strong>Removed</strong>: Verbose <code>@section</code> blocks (Progress Reporting, Error Handling)</li>
<li>
<strong>Simplified</strong>: <code>@details</code> sections to 1-3 essential lines</li>
<li>
<strong>Enhanced</strong>: <code>@section Deprecation</code> blocks with code migration examples</li>
</ul></div>
<div class="section level5">
<h5 id="impact-0-6-0-2">Impact<a class="anchor" aria-label="anchor" href="#impact-0-6-0-2"></a></h5>
<ul><li>~260-290 lines of documentation removed</li>
<li>Documentation now focuses on <strong>migration guidance</strong> rather than usage examples</li>
<li>All functions still exported and callable (no functionality changes)</li>
<li>Help pages now emphasize using <code><a href="../reference/get_dataset.html">get_dataset()</a></code> instead</li>
</ul></div>
<div class="section level5">
<h5 id="migration-0-6-0-1">Migration<a class="anchor" aria-label="anchor" href="#migration-0-6-0-1"></a></h5>
<p>These functions were deprecated in v0.4.0. Users should migrate to the modern API:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Old way (still works, but no longer documented with examples):</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_secovi.html">get_secovi</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># New way (recommended):</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_dataset.html">get_dataset</a></span><span class="op">(</span><span class="st">"secovi"</span><span class="op">)</span></span></code></pre></div>
<p>Full migration examples are available in each function‚Äôs <code>@section Deprecation</code> block.</p>
</div>
<div class="section level5">
<h5 id="rationale-0-6-0-3">Rationale<a class="anchor" aria-label="anchor" href="#rationale-0-6-0-3"></a></h5>
<ul><li>
<strong>Pre-1.0.0</strong>: Breaking changes are acceptable before stable release</li>
<li>
<strong>Codebase simplification</strong>: Reduces maintenance burden and package size</li>
<li>
<strong>Focus on modern API</strong>: Encourages users to adopt <code><a href="../reference/get_dataset.html">get_dataset()</a></code> interface</li>
<li>
<strong>Clear migration path</strong>: Enhanced deprecation warnings guide users to new API</li>
</ul><hr></div>
</div>
</div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.5.1" id="realestatebr-051">realestatebr 0.5.1<a class="anchor" aria-label="anchor" href="#realestatebr-051"></a></h2>
<div class="section level3">
<h3 id="bug-fixes-0-5-1">Bug Fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-5-1"></a></h3>
<div class="section level4">
<h4 id="secovi-default-table-fix-0-5-1">SECOVI Default Table Fix<a class="anchor" aria-label="anchor" href="#secovi-default-table-fix-0-5-1"></a></h4>
<p><strong>Fixed SECOVI dataset to return all categories by default instead of only ‚Äúcondo‚Äù</strong></p>
<ul><li><p><strong>Problem</strong>: <code>get_dataset("secovi")</code> was only returning the ‚Äúcondo‚Äù category (1,939 rows) instead of all categories (9,398 rows). This caused test failures for launch/rent/sale tables.</p></li>
<li><p><strong>Root Cause</strong>: When no table parameter was specified, the code defaulted to the first category alphabetically (‚Äúcondo‚Äù), rather than fetching all categories.</p></li>
<li>
<p><strong>Solution</strong>:</p>
<ul><li>Added <code>default_table</code> configuration support in <code>datasets.yaml</code>
</li>
<li>Updated <code><a href="../reference/validate_and_resolve_table.html">validate_and_resolve_table()</a></code> to check for <code>default_table</code> setting</li>
<li>Set SECOVI‚Äôs <code>default_table: "all"</code> in registry</li>
<li>Regenerated cache with all 4 categories</li>
</ul></li>
<li>
<p><strong>Impact</strong>:</p>
<ul><li>Cache size: 12KB ‚Üí 55KB (includes all categories)</li>
<li>Data completeness: 1,939 ‚Üí 9,398 rows</li>
<li>Categories: condo (1,939), launch (780), rent (2,779), sale (3,900)</li>
</ul></li>
</ul><div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Now returns all categories by default</span></span>
<span><span class="fu"><a href="../reference/get_dataset.html">get_dataset</a></span><span class="op">(</span><span class="st">"secovi"</span><span class="op">)</span>  <span class="co"># ‚Üí 9,398 rows, 4 categories ‚úÖ</span></span>
<span></span>
<span><span class="co"># Specific tables still work correctly</span></span>
<span><span class="fu"><a href="../reference/get_dataset.html">get_dataset</a></span><span class="op">(</span><span class="st">"secovi"</span>, <span class="st">"launch"</span><span class="op">)</span>  <span class="co"># ‚Üí 780 rows</span></span>
<span><span class="fu"><a href="../reference/get_dataset.html">get_dataset</a></span><span class="op">(</span><span class="st">"secovi"</span>, <span class="st">"rent"</span><span class="op">)</span>    <span class="co"># ‚Üí 2,779 rows</span></span>
<span><span class="fu"><a href="../reference/get_dataset.html">get_dataset</a></span><span class="op">(</span><span class="st">"secovi"</span>, <span class="st">"sale"</span><span class="op">)</span>    <span class="co"># ‚Üí 3,900 rows</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="test-infrastructure-improvements-0-5-1">Test Infrastructure Improvements<a class="anchor" aria-label="anchor" href="#test-infrastructure-improvements-0-5-1"></a></h4>
<ul><li>Updated test suite to use <code>devtools::load_all()</code> instead of <code><a href="https://rdrr.io/r/base/library.html" class="external-link">library()</a></code> to ensure testing of development version</li>
<li>Added comprehensive pre-release test suite (<code>tests/comprehensive_check_v0.5.qmd</code>)</li>
<li>Added test result documentation (<code>tests/TEST_RESULTS_SUMMARY.md</code>, <code>tests/QUICK_SUMMARY.md</code>)</li>
</ul></div>
<div class="section level4">
<h4 id="pipeline-improvements-0-5-1">Pipeline Improvements<a class="anchor" aria-label="anchor" href="#pipeline-improvements-0-5-1"></a></h4>
<ul><li>Updated <code>_targets.R</code> to always load development version for consistency</li>
<li>Ensures targets pipeline uses latest code during cache regeneration</li>
</ul><hr></div>
</div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.5.0" id="realestatebr-050">realestatebr 0.5.0<a class="anchor" aria-label="anchor" href="#realestatebr-050"></a></h2>
<div class="section level3">
<h3 id="breaking-changes-user-level-caching-architecture-0-5-0">BREAKING CHANGES: User-Level Caching Architecture<a class="anchor" aria-label="anchor" href="#breaking-changes-user-level-caching-architecture-0-5-0"></a></h3>
<div class="section level4">
<h4 id="major-architectural-change-0-5-0">Major Architectural Change<a class="anchor" aria-label="anchor" href="#major-architectural-change-0-5-0"></a></h4>
<p><strong>Version 0.5.0 introduces user-level caching, removing bundled datasets from the package to comply with CRAN‚Äôs 5MB size limit. This is a BREAKING CHANGE that affects how datasets are accessed.</strong></p>
</div>
<div class="section level4">
<h4 id="what-changed-0-5-0">What Changed<a class="anchor" aria-label="anchor" href="#what-changed-0-5-0"></a></h4>
<ul><li>
<strong>Removed</strong>: All cached datasets from <code>inst/cached_data/</code> (previously ~25MB)</li>
<li>
<strong>Added</strong>: User-level cache directory at <code>~/.local/share/realestatebr/</code> (Linux/Mac) or <code>%LOCALAPPDATA%/realestatebr/Cache/</code> (Windows)</li>
<li>
<strong>Added</strong>: GitHub Releases integration for pre-processed datasets</li>
<li>
<strong>Changed</strong>: <code>source="cache"</code> now refers to user cache, not package cache</li>
<li>
<strong>Changed</strong>: <code>source="github"</code> now downloads from GitHub releases, not package files</li>
</ul></div>
<div class="section level4">
<h4 id="new-cache-behavior-0-5-0">New Cache Behavior<a class="anchor" aria-label="anchor" href="#new-cache-behavior-0-5-0"></a></h4>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># First use: downloads from GitHub releases to user cache</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_dataset.html">get_dataset</a></span><span class="op">(</span><span class="st">"abecip"</span><span class="op">)</span>  <span class="co"># Downloads once</span></span>
<span></span>
<span><span class="co"># Subsequent uses: loads from user cache (instant, offline)</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_dataset.html">get_dataset</a></span><span class="op">(</span><span class="st">"abecip"</span><span class="op">)</span>  <span class="co"># Loads from ~/.local/share/realestatebr/</span></span>
<span></span>
<span><span class="co"># Force fresh download from original source</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_dataset.html">get_dataset</a></span><span class="op">(</span><span class="st">"abecip"</span>, source <span class="op">=</span> <span class="st">"fresh"</span><span class="op">)</span>  <span class="co"># Downloads and caches</span></span>
<span></span>
<span><span class="co"># Explicit source selection</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_dataset.html">get_dataset</a></span><span class="op">(</span><span class="st">"abecip"</span>, source <span class="op">=</span> <span class="st">"cache"</span><span class="op">)</span>   <span class="co"># User cache only</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_dataset.html">get_dataset</a></span><span class="op">(</span><span class="st">"abecip"</span>, source <span class="op">=</span> <span class="st">"github"</span><span class="op">)</span>  <span class="co"># GitHub releases only</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="auto-fallback-strategy-source--auto-default-0-5-0">Auto Fallback Strategy (source = ‚Äúauto‚Äù, default)<a class="anchor" aria-label="anchor" href="#auto-fallback-strategy-source--auto-default-0-5-0"></a></h4>
<ol style="list-style-type: decimal"><li>
<strong>User Cache</strong>: Check <code>~/.local/share/realestatebr/</code> (instant, offline)</li>
<li>
<strong>GitHub Releases</strong>: Download pre-processed data (requires <code>piggyback</code> package)</li>
<li>
<strong>Fresh Download</strong>: Download from original source (saves to user cache)</li>
</ol></div>
<div class="section level4">
<h4 id="new-dependencies-0-5-0">New Dependencies<a class="anchor" aria-label="anchor" href="#new-dependencies-0-5-0"></a></h4>
<ul><li>
<strong>Added</strong>: <code>rappdirs</code> (Imports) - Cross-platform user cache directory support</li>
<li>
<strong>Added</strong>: <code>piggyback</code> (Suggests) - GitHub releases download support</li>
</ul></div>
<div class="section level4">
<h4 id="new-functions-0-5-0">New Functions<a class="anchor" aria-label="anchor" href="#new-functions-0-5-0"></a></h4>
<ul><li>
<code><a href="../reference/get_user_cache_dir.html">get_user_cache_dir()</a></code>: Get path to user cache directory</li>
<li>
<code><a href="../reference/list_cached_files.html">list_cached_files()</a></code>: List all cached datasets</li>
<li>
<code><a href="../reference/clear_user_cache.html">clear_user_cache()</a></code>: Remove cached datasets</li>
<li>
<code><a href="../reference/is_cached.html">is_cached()</a></code>: Check if dataset is in cache</li>
<li>
<code><a href="../reference/list_github_assets.html">list_github_assets()</a></code>: List available datasets on GitHub releases</li>
<li>
<code><a href="../reference/download_from_github_release.html">download_from_github_release()</a></code>: Download specific dataset from releases</li>
<li>
<code><a href="../reference/update_cache_from_github.html">update_cache_from_github()</a></code>: Update cached datasets from GitHub</li>
<li>
<code><a href="../reference/is_cache_up_to_date.html">is_cache_up_to_date()</a></code>: Compare local vs GitHub cache timestamps</li>
</ul></div>
<div class="section level4">
<h4 id="migration-guide-0-5-0">Migration Guide<a class="anchor" aria-label="anchor" href="#migration-guide-0-5-0"></a></h4>
<div class="section level5">
<h5 id="for-users-0-5-0">For Users<a class="anchor" aria-label="anchor" href="#for-users-0-5-0"></a></h5>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Install updated package</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"realestatebr"</span><span class="op">)</span>  <span class="co"># or devtools::install_github()</span></span>
<span></span>
<span><span class="co"># Install piggyback for GitHub downloads (recommended)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"piggyback"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># First use after update: will download datasets to user cache</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_dataset.html">get_dataset</a></span><span class="op">(</span><span class="st">"abecip"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Check cache location</span></span>
<span><span class="fu"><a href="../reference/get_user_cache_dir.html">get_user_cache_dir</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Manage cache</span></span>
<span><span class="fu"><a href="../reference/list_cached_files.html">list_cached_files</a></span><span class="op">(</span><span class="op">)</span>           <span class="co"># See what's cached</span></span>
<span><span class="fu"><a href="../reference/clear_user_cache.html">clear_user_cache</a></span><span class="op">(</span><span class="st">"abecip"</span><span class="op">)</span>    <span class="co"># Clear specific dataset</span></span>
<span><span class="fu"><a href="../reference/clear_user_cache.html">clear_user_cache</a></span><span class="op">(</span><span class="op">)</span>            <span class="co"># Clear all (with confirmation)</span></span></code></pre></div>
</div>
<div class="section level5">
<h5 id="for-package-developers-0-5-0">For Package Developers<a class="anchor" aria-label="anchor" href="#for-package-developers-0-5-0"></a></h5>
<ul><li>Cached data files now excluded from package build via <code>.Rbuildignore</code>
</li>
<li>Package size reduced from ~25MB to &lt;5MB (CRAN compliant)</li>
<li>
<code>inst/cached_data/</code> kept for development/CI but excluded from distribution</li>
<li>GitHub Actions workflow publishes cache to releases via <code>data-raw/publish-cache.R</code>
</li>
</ul></div>
</div>
<div class="section level4">
<h4 id="benefits-0-5-0">Benefits<a class="anchor" aria-label="anchor" href="#benefits-0-5-0"></a></h4>
<ul><li>‚úÖ <strong>CRAN Compliant</strong>: Package size now &lt;5MB (was 25MB)</li>
<li>‚úÖ <strong>Faster Installation</strong>: Package downloads are much smaller</li>
<li>‚úÖ <strong>Offline Usage</strong>: Once cached, datasets work offline</li>
<li>‚úÖ <strong>User Control</strong>: Users manage their own cache</li>
<li>‚úÖ <strong>Weekly Updates</strong>: GitHub releases updated automatically by CI</li>
<li>‚úÖ <strong>No Breaking APIs</strong>: <code><a href="../reference/get_dataset.html">get_dataset()</a></code> interface unchanged</li>
</ul></div>
<div class="section level4">
<h4 id="deprecations-0-5-0">Deprecations<a class="anchor" aria-label="anchor" href="#deprecations-0-5-0"></a></h4>
<ul><li>
<code><a href="../reference/import_cached.html">import_cached()</a></code>: Still works but now loads from user cache (previously from <code>inst/</code>)</li>
<li>Old <code>cached=TRUE</code> parameter in legacy functions: Still supported but uses new cache</li>
</ul></div>
<div class="section level4">
<h4 id="files-changed-0-5-0">Files Changed<a class="anchor" aria-label="anchor" href="#files-changed-0-5-0"></a></h4>
<ul><li>
<strong>New</strong>: <code>R/cache-user.R</code> - User cache management</li>
<li>
<strong>New</strong>: <code>R/cache-github.R</code> - GitHub releases integration</li>
<li>
<strong>New</strong>: <code>data-raw/publish-cache.R</code> - Upload cache to releases</li>
<li>
<strong>Updated</strong>: <code>R/get-dataset.R</code> - Refactored cache logic</li>
<li>
<strong>Updated</strong>: <code>R/cache.R</code> - Marked as deprecated (kept for compatibility)</li>
<li>
<strong>Updated</strong>: <code>.Rbuildignore</code> - Exclude <code>inst/cached_data/</code> files</li>
<li>
<strong>Updated</strong>: <code>DESCRIPTION</code> - Added <code>rappdirs</code> and <code>piggyback</code> dependencies</li>
</ul><hr></div>
</div>
<div class="section level3">
<h3 id="targets-pipeline-fixes-0-5-0">Targets Pipeline Fixes<a class="anchor" aria-label="anchor" href="#targets-pipeline-fixes-0-5-0"></a></h3>
<div class="section level4">
<h4 id="critical-pipeline-functionality-0-5-0">Critical Pipeline Functionality<a class="anchor" aria-label="anchor" href="#critical-pipeline-functionality-0-5-0"></a></h4>
<ul><li>
<strong>Fixed</strong>: Targets pipeline now fully functional for automated data updates</li>
<li>
<strong>Fixed</strong>: FGV IBRE and NRE-IRE datasets now work correctly in targets pipeline
<ul><li>Changed from <code>source="fresh"</code> to <code>source="github"</code> for manually-updated datasets</li>
<li>These datasets have no API/download capability and require manual updates</li>
</ul></li>
<li>
<strong>Fixed</strong>: Removed broken internal data object fallback in <code><a href="../reference/get_fgv_ibre.html">get_fgv_ibre()</a></code> and <code><a href="../reference/get_nre_ire.html">get_nre_ire()</a></code>
<ul><li>Previously tried to access non-existent <code>fgv_data</code> and <code>ire</code> objects from <code>R/sysdata.rda</code>
</li>
<li>Now provides clear error messages when fresh downloads are attempted with <code>cached=FALSE</code>
</li>
</ul></li>
</ul></div>
<div class="section level4">
<h4 id="enhanced-dataset-registry-0-5-0">Enhanced Dataset Registry<a class="anchor" aria-label="anchor" href="#enhanced-dataset-registry-0-5-0"></a></h4>
<ul><li>
<strong>Added</strong>: <code>manual_update</code> flag to <code>datasets.yaml</code> for FGV IBRE and NRE-IRE</li>
<li>
<strong>Added</strong>: <code>update_notes</code> field documenting why fresh downloads aren‚Äôt available</li>
<li>
<strong>Improved</strong>: Clear documentation in <code>_targets.R</code> explaining data source choices</li>
</ul></div>
<div class="section level4">
<h4 id="files-changed-0-5-0-1">Files Changed<a class="anchor" aria-label="anchor" href="#files-changed-0-5-0-1"></a></h4>
<ul><li>
<code>_targets.R</code>: Updated <code>fetch_dataset()</code> to support <code>source</code> parameter; FGV and NRE-IRE now use <code>source="github"</code>
</li>
<li>
<code>R/get_fgv_ibre.R</code>: Removed broken internal data fallback; added clear error for fresh downloads</li>
<li>
<code>R/get_nre_ire.R</code>: Removed broken internal data fallback; added clear error for fresh downloads</li>
<li>
<code>inst/extdata/datasets.yaml</code>: Added manual update flags and notes</li>
</ul></div>
</div>
<div class="section level3">
<h3 id="bug-fixes-from-recent-commits-0-5-0">Bug Fixes from Recent Commits<a class="anchor" aria-label="anchor" href="#bug-fixes-from-recent-commits-0-5-0"></a></h3>
<div class="section level4">
<h4 id="property-records-simplification-commiteab0ca-0-5-0">Property Records Simplification (Commit 9eab0ca)<a class="anchor" aria-label="anchor" href="#property-records-simplification-commiteab0ca-0-5-0"></a></h4>
<ul><li>
<strong>Refactored</strong>: Major simplification of <code>get_property_records.R</code> (14% code reduction: 780‚Üí673 lines)</li>
<li>
<strong>Removed</strong>: Deprecated functions <code>get_ri_capitals()</code> and <code>get_ri_aggregates()</code> with warning messages</li>
<li>
<strong>Removed</strong>: Unused metadata attributes (<code>source</code>, <code>download_time</code>, <code>download_info</code>) that were never used</li>
<li>
<strong>Simplified</strong>: Documentation for internal function (removed verbose examples and sections)</li>
<li>
<strong>Improved</strong>: <code><a href="../reference/scrape_registro_imoveis_links.html">scrape_registro_imoveis_links()</a></code> with better connection cleanup and reduced complexity</li>
</ul></div>
<div class="section level4">
<h4 id="bcb-dataset-critical-fixes-commit-bb580c8-0-5-0">BCB Dataset Critical Fixes (Commit bb580c8)<a class="anchor" aria-label="anchor" href="#bcb-dataset-critical-fixes-commit-bb580c8-0-5-0"></a></h4>
<div class="section level5">
<h5 id="bcb-real-estate-0-5-0">BCB Real Estate<a class="anchor" aria-label="anchor" href="#bcb-real-estate-0-5-0"></a></h5>
<ul><li>
<strong>Fixed</strong>: CLI message serialization error in targets pipeline</li>
<li>
<strong>Fixed</strong>: Compute <code><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow()</a></code> before CLI interpolation to avoid closure issues</li>
</ul></div>
<div class="section level5">
<h5 id="bcb-series---graceful-degradation-critical-0-5-0">BCB Series - Graceful Degradation (CRITICAL)<a class="anchor" aria-label="anchor" href="#bcb-series---graceful-degradation-critical-0-5-0"></a></h5>
<ul><li>
<strong>Fixed</strong>: Replaced batch download with individual series downloads for better reliability</li>
<li>
<strong>Fixed</strong>: Now returns successful series even if some fail (e.g., 14/15 instead of 0/15)</li>
<li>
<strong>Added</strong>: Per-series retry logic with exponential backoff using <code><a href="https://purrr.tidyverse.org/reference/possibly.html" class="external-link">purrr::possibly()</a></code> pattern</li>
<li>
<strong>Added</strong>: Clear warnings showing which series failed</li>
<li>
<strong>Restored</strong>: Commented-out table filtering logic - now filters by <code>bcb_category</code> when <code>table</code> specified</li>
<li>
<strong>Improved</strong>: Metadata-driven approach using <code>bcb_metadata</code> dynamically (now downloads all 140 series, not just 15)</li>
</ul></div>
<div class="section level5">
<h5 id="get-dataset-infrastructure-0-5-0">Get Dataset Infrastructure<a class="anchor" aria-label="anchor" href="#get-dataset-infrastructure-0-5-0"></a></h5>
<ul><li>
<strong>Fixed</strong>: BCB Real Estate table filtering by category in <code>get-dataset.R</code>
</li>
<li>
<strong>Fixed</strong>: BCB Series table filtering by <code>bcb_category</code>
</li>
<li>
<strong>Added</strong>: Support for <code>table="all"</code> in <code><a href="../reference/validate_and_resolve_table.html">validate_and_resolve_table()</a></code> function</li>
<li>
<strong>Fixed</strong>: Proper mapping of user-facing table names to internal Portuguese categories</li>
</ul></div>
<div class="section level5">
<h5 id="registry-and-tests-0-5-0">Registry and Tests<a class="anchor" aria-label="anchor" href="#registry-and-tests-0-5-0"></a></h5>
<ul><li>
<strong>Updated</strong>: <code>bcb_series</code> categories in <code>datasets.yaml</code> to match metadata</li>
<li>
<strong>Added</strong>: Missing categories: production, interest-rate, exchange, government, real-estate</li>
<li>
<strong>Added</strong>: Integration tests for BCB table filtering and graceful degradation</li>
<li>
<strong>Result</strong>: All 97 integration tests now pass</li>
</ul></div>
</div>
<div class="section level4">
<h4 id="get-dataset-critical-fixes-commit-ce4768b-0-5-0">Get Dataset Critical Fixes (Commit ce4768b)<a class="anchor" aria-label="anchor" href="#get-dataset-critical-fixes-commit-ce4768b-0-5-0"></a></h4>
<div class="section level5">
<h5 id="cli-message-scoping-0-5-0">CLI Message Scoping<a class="anchor" aria-label="anchor" href="#cli-message-scoping-0-5-0"></a></h5>
<ul><li>
<strong>Fixed</strong>: Added <code>.envir = parent.frame()</code> to <code><a href="https://cli.r-lib.org/reference/cli_abort.html" class="external-link">cli::cli_inform()</a></code> calls in <code><a href="../reference/cli_user.html">cli_user()</a></code> and <code><a href="../reference/cli_debug.html">cli_debug()</a></code>
</li>
<li>
<strong>Fixed</strong>: ‚Äúcannot coerce type ‚Äòclosure‚Äô to vector of type ‚Äòcharacter‚Äô‚Äù error</li>
<li>
<strong>Affected</strong>: Previously failed for rppi_bis, property_records, and all functions using these helpers</li>
</ul></div>
<div class="section level5">
<h5 id="fipezap-data-quality-0-5-0">FipeZap Data Quality<a class="anchor" aria-label="anchor" href="#fipezap-data-quality-0-5-0"></a></h5>
<ul><li>
<strong>Fixed</strong>: Added <code>standardize_city_names()</code> call after binding FipeZap data</li>
<li>
<strong>Fixed</strong>: Now correctly shows ‚ÄúBrazil‚Äù instead of ‚Äú√çndice Fipezap‚Äù for national index</li>
</ul></div>
<div class="section level5">
<h5 id="property-records-table-extraction-0-5-0">Property Records Table Extraction<a class="anchor" aria-label="anchor" href="#property-records-table-extraction-0-5-0"></a></h5>
<ul><li>
<strong>Fixed</strong>: Added special handling for nested <code>property_records</code> structure in <code>get-dataset.R</code>
</li>
<li>
<strong>Fixed</strong>: Now returns single tibbles instead of nested lists</li>
<li>
<strong>Fixed</strong>: All tables (capitals, cities, aggregates, transfers) now work correctly</li>
</ul></div>
<div class="section level5">
<h5 id="testing-infrastructure-0-5-0">Testing Infrastructure<a class="anchor" aria-label="anchor" href="#testing-infrastructure-0-5-0"></a></h5>
<ul><li>
<strong>Added</strong>: Comprehensive integration test suite with 37 tests covering critical <code><a href="../reference/get_dataset.html">get_dataset()</a></code> functionality</li>
<li>
<strong>Added</strong>: Tests with <code>source="fresh"</code> to catch real-world failures before production</li>
<li>
<strong>Added</strong>: GitHub Actions CI workflow for weekly integration tests</li>
<li>
<strong>Added</strong>: Manual testing script <code>tests/basic_checks.R</code> for development</li>
</ul></div>
</div>
<div class="section level4">
<h4 id="note-on-vignettes-0-5-0">Note on Vignettes<a class="anchor" aria-label="anchor" href="#note-on-vignettes-0-5-0"></a></h4>
<ul><li>Vignettes temporarily set to <code>eval=FALSE</code> for faster development</li>
<li>
<strong>TODO</strong>: Re-enable vignette evaluation before CRAN release</li>
</ul><hr></div>
</div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.4.1" id="realestatebr-041">realestatebr 0.4.1<a class="anchor" aria-label="anchor" href="#realestatebr-041"></a></h2>
<div class="section level3">
<h3 id="bug-fixes-0-4-1">Bug Fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-4-1"></a></h3>
<div class="section level4">
<h4 id="rppi-individual-table-access-0-4-1">RPPI Individual Table Access<a class="anchor" aria-label="anchor" href="#rppi-individual-table-access-0-4-1"></a></h4>
<ul><li>
<strong>Fixed</strong>: <code>get_dataset("rppi", "ivgr")</code> and other individual RPPI tables now work correctly</li>
<li>
<strong>Fixed</strong>: Vignette build errors caused by RPPI table routing issues</li>
<li>
<strong>Improved</strong>: Internal <code><a href="../reference/get_rppi.html">get_rppi()</a></code> function now supports all individual RPPI tables (fipezap, ivgr, igmi, iqa, iqaiw, ivar, secovi_sp) in addition to stacked tables (sale, rent, all)</li>
</ul></div>
<div class="section level4">
<h4 id="cran-compliance-0-4-1">CRAN Compliance<a class="anchor" aria-label="anchor" href="#cran-compliance-0-4-1"></a></h4>
<ul><li>
<strong>Fixed</strong>: Removed all non-ASCII characters from R source files (7 files affected)</li>
<li>Replaced Portuguese characters with Unicode escapes for CRAN compliance</li>
<li>Files updated: <code>get_bcb_realestate.R</code>, <code>get_cbic.R</code>, <code>get_fgv_ibre.R</code>, <code>get_property_records.R</code>, <code>get_rppi.R</code>, <code>get_rppi_bis.R</code>, <code>get_secovi.R</code>
</li>
</ul></div>
<div class="section level4">
<h4 id="test-suite-0-4-1">Test Suite<a class="anchor" aria-label="anchor" href="#test-suite-0-4-1"></a></h4>
<ul><li>
<strong>Fixed</strong>: Updated deprecated <code>category=</code> parameter to <code>table=</code> in <code>tests/sanity_check.R</code>
</li>
</ul><hr></div>
</div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.4.0" id="realestatebr-040">realestatebr 0.4.0<a class="anchor" aria-label="anchor" href="#realestatebr-040"></a></h2>
<div class="section level3">
<h3 id="major-breaking-changes---api-consolidation-0-4-0">Major Breaking Changes - API Consolidation<a class="anchor" aria-label="anchor" href="#major-breaking-changes---api-consolidation-0-4-0"></a></h3>
<div class="section level4">
<h4 id="id_-unified-data-interface-0-4-0">üéØ Unified Data Interface<a class="anchor" aria-label="anchor" href="#id_-unified-data-interface-0-4-0"></a></h4>
<p>This release implements a <strong>major breaking change</strong> that consolidates 15+ individual <code>get_*()</code> functions into a single, unified <code><a href="../reference/get_dataset.html">get_dataset()</a></code> interface. This dramatically simplifies the package API while maintaining full functionality.</p>
<p><strong>BREAKING CHANGE</strong>: All individual <code>get_*()</code> functions have been removed: - <code><a href="../reference/get_abecip_indicators.html">get_abecip_indicators()</a></code>, <code><a href="../reference/get_abrainc_indicators.html">get_abrainc_indicators()</a></code>, <code><a href="../reference/get_rppi.html">get_rppi()</a></code>, <code><a href="../reference/get_bcb_realestate.html">get_bcb_realestate()</a></code>, etc. - <strong>Migration</strong>: Use <code>get_dataset("dataset_name")</code> instead</p>
</div>
<div class="section level4">
<h4 id="id_-rppi-code-simplification-internal-0-4-0">üîß RPPI Code Simplification (Internal)<a class="anchor" aria-label="anchor" href="#id_-rppi-code-simplification-internal-0-4-0"></a></h4>
<p><strong>Major refactoring</strong> of RPPI functions for better maintainability: - <strong>67% code reduction</strong>: 1579 lines ‚Üí 519 lines (1060 lines removed) - <strong>Bug fix</strong>: FipeZap national index now correctly standardized to <code>name_muni == "Brazil"</code> - <strong>Shared helpers</strong>: Created <code>rppi-helpers.R</code> with common functions to eliminate duplication - <strong>Removed overhead</strong>: Eliminated unused <code>stack</code> parameter, cli_debug calls, and metadata attributes - <strong>Simplified documentation</strong>: Removed verbose sections (Progress Reporting, Error Handling, Examples) from internal functions - <strong>All functions now <code>@keywords internal</code></strong>: Only <code><a href="../reference/get_dataset.html">get_dataset()</a></code> is user-facing</p>
<p><strong>Benefits</strong>: - Easier to maintain and debug - Faster execution (less overhead) - Consistent error handling across all indices - Bug fixes apply to all functions automatically</p>
</div>
<div class="section level4">
<h4 id="id_-cbic-dataset---partial-release-cement-only-0-4-0">üìä CBIC Dataset - Partial Release (Cement Only)<a class="anchor" aria-label="anchor" href="#id_-cbic-dataset---partial-release-cement-only-0-4-0"></a></h4>
<p><strong>Note</strong>: In v0.4.0, the CBIC dataset is limited to <strong>cement tables only</strong> (validated data). Steel and PIM tables will be added in v0.4.1.</p>
<p><strong>Available in v0.4.0</strong>: - ‚úÖ <code>cement_monthly_consumption</code> - Monthly cement consumption by state - ‚úÖ <code>cement_annual_consumption</code> - Annual cement consumption by region - ‚úÖ <code>cement_production_exports</code> - Production, consumption, and export data - ‚úÖ <code>cement_monthly_production</code> - Monthly cement production by state - ‚úÖ <code>cement_cub_prices</code> - CUB cement prices by state</p>
<p><strong>Coming in v0.4.1</strong>: - ‚è≥ Steel prices and production data - ‚è≥ PIM industrial production indices</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Works in v0.4.0</span></span>
<span><span class="fu"><a href="../reference/get_dataset.html">get_dataset</a></span><span class="op">(</span><span class="st">"cbic"</span><span class="op">)</span>  <span class="co"># Default: cement_monthly_consumption</span></span>
<span><span class="fu"><a href="../reference/get_dataset.html">get_dataset</a></span><span class="op">(</span><span class="st">"cbic"</span>, <span class="st">"cement_cub_prices"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Will error with informative message</span></span>
<span><span class="fu"><a href="../reference/get_dataset.html">get_dataset</a></span><span class="op">(</span><span class="st">"cbic"</span>, <span class="st">"steel_prices"</span><span class="op">)</span>  <span class="co"># Deferred to v0.4.1</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="id_Ô∏è-new-internal-architecture-0-4-0">üèóÔ∏è New Internal Architecture<a class="anchor" aria-label="anchor" href="#id_%EF%B8%8F-new-internal-architecture-0-4-0"></a></h4>
<ul><li>
<strong>Internal fetch functions</strong>: Created 12 new <code>fetch_*()</code> functions with <code>@keywords internal</code>
</li>
<li>
<strong>Registry-driven</strong>: All datasets managed through centralized <code>inst/extdata/datasets.yaml</code>
</li>
<li>
<strong>Hierarchical RPPI</strong>: Consolidated <code>rppi</code> and <code>rppi_indices</code> into single hierarchical structure</li>
<li>
<strong>Consistent parameters</strong>: All internal functions use standardized <code>table</code>, <code>cached</code>, <code>quiet</code>, <code>max_retries</code>
</li>
</ul></div>
<div class="section level4">
<h4 id="id_-simplified-public-api-0-4-0">üìã Simplified Public API<a class="anchor" aria-label="anchor" href="#id_-simplified-public-api-0-4-0"></a></h4>
<p><strong>New unified interface:</strong></p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Get data from any dataset</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_dataset.html">get_dataset</a></span><span class="op">(</span><span class="st">"abecip"</span><span class="op">)</span>               <span class="co"># Default table</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_dataset.html">get_dataset</a></span><span class="op">(</span><span class="st">"abecip"</span>, table <span class="op">=</span> <span class="st">"sbpe"</span><span class="op">)</span>  <span class="co"># Specific table</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_dataset.html">get_dataset</a></span><span class="op">(</span><span class="st">"rppi"</span>, table <span class="op">=</span> <span class="st">"fipezap"</span><span class="op">)</span>  <span class="co"># Hierarchical access</span></span>
<span></span>
<span><span class="co"># Discover datasets</span></span>
<span><span class="va">datasets</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/list_datasets.html">list_datasets</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">info</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_dataset_info.html">get_dataset_info</a></span><span class="op">(</span><span class="st">"rppi"</span><span class="op">)</span></span></code></pre></div>
<p><strong>Removed functions (now internal):</strong> - <code><a href="../reference/get_abecip_indicators.html">get_abecip_indicators()</a></code> ‚Üí <code>get_dataset("abecip")</code> - <code><a href="../reference/get_abrainc_indicators.html">get_abrainc_indicators()</a></code> ‚Üí <code>get_dataset("abrainc")</code> - <code><a href="../reference/get_rppi.html">get_rppi()</a></code> ‚Üí <code>get_dataset("rppi")</code> - <code><a href="../reference/get_bcb_realestate.html">get_bcb_realestate()</a></code> ‚Üí <code>get_dataset("bcb_realestate")</code> - <code><a href="../reference/get_bcb_series.html">get_bcb_series()</a></code> ‚Üí <code>get_dataset("bcb_series")</code> - Plus 10 more functions</p>
</div>
<div class="section level4">
<h4 id="id_-enhanced-data-access-0-4-0">üîß Enhanced Data Access<a class="anchor" aria-label="anchor" href="#id_-enhanced-data-access-0-4-0"></a></h4>
<ul><li>
<strong>Smart fallback</strong>: Auto fallback from GitHub cache ‚Üí fresh download</li>
<li>
<strong>Source control</strong>: Explicit <code>source = "cache"/"github"/"fresh"</code> options</li>
<li>
<strong>Better error messages</strong>: Detailed troubleshooting information</li>
<li>
<strong>Metadata preservation</strong>: All data includes source tracking and download info</li>
</ul></div>
<div class="section level4">
<h4 id="id_-comprehensive-testing-0-4-0">üß™ Comprehensive Testing<a class="anchor" aria-label="anchor" href="#id_-comprehensive-testing-0-4-0"></a></h4>
<ul><li>
<strong>New test suite</strong>: <code>test-internal-functions-0.4.0.R</code> with 100 tests</li>
<li>
<strong>Registry validation</strong>: Ensures all datasets have proper internal function mappings</li>
<li>
<strong>Parameter consistency</strong>: Validates all internal functions follow standard interface</li>
<li>
<strong>Hierarchical testing</strong>: Comprehensive RPPI access pattern validation</li>
</ul></div>
</div>
<div class="section level3">
<h3 id="migration-guide-0-4-0">Migration Guide<a class="anchor" aria-label="anchor" href="#migration-guide-0-4-0"></a></h3>
<div class="section level4">
<h4 id="for-existing-code-breaking-changes-0-4-0">For Existing Code (Breaking Changes)<a class="anchor" aria-label="anchor" href="#for-existing-code-breaking-changes-0-4-0"></a></h4>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># OLD (0.3.x) - Will no longer work</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_abecip_indicators.html">get_abecip_indicators</a></span><span class="op">(</span>table <span class="op">=</span> <span class="st">"sbpe"</span><span class="op">)</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_rppi.html">get_rppi</a></span><span class="op">(</span>table <span class="op">=</span> <span class="st">"fipezap"</span><span class="op">)</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_bcb_realestate.html">get_bcb_realestate</a></span><span class="op">(</span>table <span class="op">=</span> <span class="st">"all"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># NEW (0.4.0) - Required migration</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_dataset.html">get_dataset</a></span><span class="op">(</span><span class="st">"abecip"</span>, table <span class="op">=</span> <span class="st">"sbpe"</span><span class="op">)</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_dataset.html">get_dataset</a></span><span class="op">(</span><span class="st">"rppi"</span>, table <span class="op">=</span> <span class="st">"fipezap"</span><span class="op">)</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_dataset.html">get_dataset</a></span><span class="op">(</span><span class="st">"bcb_realestate"</span>, table <span class="op">=</span> <span class="st">"all"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="dataset-name-mapping-0-4-0">Dataset Name Mapping<a class="anchor" aria-label="anchor" href="#dataset-name-mapping-0-4-0"></a></h4>
<table class="table"><thead><tr class="header"><th>Old Function</th>
<th>New get_dataset() Name</th>
</tr></thead><tbody><tr class="odd"><td><code><a href="../reference/get_abecip_indicators.html">get_abecip_indicators()</a></code></td>
<td><code>"abecip"</code></td>
</tr><tr class="even"><td><code><a href="../reference/get_abrainc_indicators.html">get_abrainc_indicators()</a></code></td>
<td><code>"abrainc"</code></td>
</tr><tr class="odd"><td><code><a href="../reference/get_rppi.html">get_rppi()</a></code></td>
<td><code>"rppi"</code></td>
</tr><tr class="even"><td><code><a href="../reference/get_bcb_realestate.html">get_bcb_realestate()</a></code></td>
<td><code>"bcb_realestate"</code></td>
</tr><tr class="odd"><td><code><a href="../reference/get_bcb_series.html">get_bcb_series()</a></code></td>
<td><code>"bcb_series"</code></td>
</tr><tr class="even"><td><code><a href="../reference/get_rppi_bis.html">get_rppi_bis()</a></code></td>
<td><code>"rppi_bis"</code></td>
</tr><tr class="odd"><td><code><a href="../reference/get_secovi.html">get_secovi()</a></code></td>
<td><code>"secovi"</code></td>
</tr><tr class="even"><td><code>get_fgv_indicators()</code></td>
<td><code>"fgv_indicators"</code></td>
</tr><tr class="odd"><td><code>get_b3_stocks()</code></td>
<td><code>"b3_stocks"</code></td>
</tr><tr class="even"><td><code><a href="../reference/get_nre_ire.html">get_nre_ire()</a></code></td>
<td><code>"nre_ire"</code></td>
</tr><tr class="odd"><td><code>get_cbic_*()</code></td>
<td><code>"cbic"</code></td>
</tr><tr class="even"><td><code><a href="../reference/get_itbi.html">get_itbi()</a></code></td>
<td><code>"itbi"</code></td>
</tr><tr class="odd"><td><code><a href="../reference/get_property_records.html">get_property_records()</a></code></td>
<td><code>"registro"</code></td>
</tr></tbody></table></div>
<div class="section level4">
<h4 id="rppi-consolidation-0-4-0">RPPI Consolidation<a class="anchor" aria-label="anchor" href="#rppi-consolidation-0-4-0"></a></h4>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># OLD - Multiple functions</span></span>
<span><span class="va">fipezap</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_rppi_fipezap.html">get_rppi_fipezap</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">igmi</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_rppi_igmi.html">get_rppi_igmi</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">bis</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_rppi_bis.html">get_rppi_bis</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># NEW - Unified hierarchical access</span></span>
<span><span class="va">fipezap</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_dataset.html">get_dataset</a></span><span class="op">(</span><span class="st">"rppi"</span>, table <span class="op">=</span> <span class="st">"fipezap"</span><span class="op">)</span></span>
<span><span class="va">igmi</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_dataset.html">get_dataset</a></span><span class="op">(</span><span class="st">"rppi"</span>, table <span class="op">=</span> <span class="st">"igmi"</span><span class="op">)</span></span>
<span><span class="va">bis</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_dataset.html">get_dataset</a></span><span class="op">(</span><span class="st">"rppi"</span>, table <span class="op">=</span> <span class="st">"bis"</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="technical-implementation-0-4-0">Technical Implementation<a class="anchor" aria-label="anchor" href="#technical-implementation-0-4-0"></a></h3>
<div class="section level4">
<h4 id="internal-architecture-0-4-0">Internal Architecture<a class="anchor" aria-label="anchor" href="#internal-architecture-0-4-0"></a></h4>
<ul><li>
<strong>12 internal fetch functions</strong>: <code>fetch_rppi()</code>, <code>fetch_abecip()</code>, etc.</li>
<li>
<strong>Registry system</strong>: Complete mapping in <code>datasets.yaml</code>
</li>
<li>
<strong>Fallback mechanism</strong>: <code><a href="../reference/get_from_internal_function.html">get_from_internal_function()</a></code> ‚Üí <code>get_from_legacy_function()</code>
</li>
<li>
<strong>NAMESPACE cleanup</strong>: Only exports <code><a href="../reference/get_dataset.html">get_dataset()</a></code>, <code><a href="../reference/list_datasets.html">list_datasets()</a></code>, utilities</li>
</ul></div>
<div class="section level4">
<h4 id="backward-compatibility-0-4-0">Backward Compatibility<a class="anchor" aria-label="anchor" href="#backward-compatibility-0-4-0"></a></h4>
<ul><li>
<strong>Phase 1</strong>: Internal functions call legacy functions for gradual transition</li>
<li>
<strong>Testing</strong>: Comprehensive test coverage ensures functionality preservation</li>
<li>
<strong>Error handling</strong>: Graceful degradation with informative error messages</li>
</ul><hr><p><em>This release represents a major architectural shift toward a unified, maintainable API. While it introduces breaking changes, the new interface is significantly simpler and more powerful.</em></p>
<p><strong>Full Changelog</strong>: <a href="https://github.com/viniciusoike/realestatebr/compare/v0.3.0" class="external-link uri">https://github.com/viniciusoike/realestatebr/compare/v0.3.0</a>‚Ä¶v0.4.0</p>
<hr></div>
</div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.3.0" id="realestatebr-030">realestatebr 0.3.0<a class="anchor" aria-label="anchor" href="#realestatebr-030"></a></h2>
<div class="section level3">
<h3 id="major-features-and-improvements-0-3-0">Major Features and Improvements<a class="anchor" aria-label="anchor" href="#major-features-and-improvements-0-3-0"></a></h3>
<div class="section level4">
<h4 id="id_-phase-data-pipeline-implementation-complete-0-3-0">üéØ Phase 2: Data Pipeline Implementation Complete<a class="anchor" aria-label="anchor" href="#id_-phase-data-pipeline-implementation-complete-0-3-0"></a></h4>
<ul><li>
<strong>{targets} Pipeline Framework</strong>: Implemented comprehensive targets workflow for automated data processing and validation</li>
<li>
<strong>Automated Data Workflows</strong>: Added daily and weekly GitHub Actions workflows using the targets pipeline</li>
<li>
<strong>Data Validation Infrastructure</strong>: Added comprehensive validation rules and reporting for all datasets</li>
<li>
<strong>Pipeline Performance Monitoring</strong>: Added automated report generation and validation status tracking</li>
</ul></div>
<div class="section level4">
<h4 id="id_-enhanced-data-processing-0-3-0">üìä Enhanced Data Processing<a class="anchor" aria-label="anchor" href="#id_-enhanced-data-processing-0-3-0"></a></h4>
<ul><li>
<strong>Targets Pipeline</strong>: <code>_targets.R</code> workflow with automated dependency management and parallel processing</li>
<li>
<strong>Validation System</strong>: Comprehensive data validation rules with automated quality checks</li>
<li>
<strong>Pipeline Helpers</strong>: Centralized helper functions for consistent data processing across all sources</li>
<li>
<strong>Report Generation</strong>: Automated pipeline status reports and data quality summaries</li>
</ul></div>
<div class="section level4">
<h4 id="id_-improved-function-reliability-0-3-0">üîß Improved Function Reliability<a class="anchor" aria-label="anchor" href="#id_-improved-function-reliability-0-3-0"></a></h4>
<ul><li>
<strong>Error Handling</strong>: Enhanced error handling in <code>cache.R</code> with better fallback mechanisms</li>
<li>
<strong>Function Fixes</strong>: Fixed parameter bugs in <code><a href="../reference/get_abrainc_indicators.html">get_abrainc_indicators()</a></code> (category ‚Üí table)</li>
<li>
<strong>Data Access</strong>: Improved <code><a href="../reference/get_nre_ire.html">get_nre_ire()</a></code> to use internal package data directly</li>
<li>
<strong>Internal Data</strong>: Updated <code>sysdata.rda</code> with latest processed datasets</li>
</ul></div>
<div class="section level4">
<h4 id="id_-infrastructure-improvements-0-3-0">üöÄ Infrastructure Improvements<a class="anchor" aria-label="anchor" href="#id_-infrastructure-improvements-0-3-0"></a></h4>
<ul><li>
<strong>Workflow Automation</strong>: Replaced single update workflow with focused daily/weekly pipelines</li>
<li>
<strong>Cache Management</strong>: Improved cache validation and fallback strategies</li>
<li>
<strong>Data Source Updates</strong>: Enhanced FGV data cleaning with improved formatting</li>
<li>
<strong>Dependency Updates</strong>: Added <code>targets</code> and <code>tarchetypes</code> to package dependencies</li>
</ul></div>
<div class="section level4">
<h4 id="id_-new-data-sources-0-3-0">üìà New Data Sources<a class="anchor" aria-label="anchor" href="#id_-new-data-sources-0-3-0"></a></h4>
<ul><li>
<strong>B3 Stocks</strong>: Added enhanced B3 stock data processing with standardized formatting</li>
<li>
<strong>FGV Indicators</strong>: Improved FGV consultation data processing and validation</li>
<li>
<strong>Industrial Production</strong>: Enhanced CBIC PIM data integration</li>
<li>
<strong>Construction Materials</strong>: Updated CBIC cement and steel data processing</li>
</ul></div>
</div>
<div class="section level3">
<h3 id="technical-implementation-0-3-0">Technical Implementation<a class="anchor" aria-label="anchor" href="#technical-implementation-0-3-0"></a></h3>
<div class="section level4">
<h4 id="targets-pipeline-architecture-0-3-0">Targets Pipeline Architecture<a class="anchor" aria-label="anchor" href="#targets-pipeline-architecture-0-3-0"></a></h4>
<ul><li>
<strong>Automated Processing</strong>: All datasets now processed through unified targets pipeline</li>
<li>
<strong>Quality Assurance</strong>: Built-in validation and quality checks for all data sources</li>
<li>
<strong>Performance Monitoring</strong>: Real-time pipeline status and error reporting</li>
<li>
<strong>Dependency Management</strong>: Automatic detection of data updates and re-processing</li>
</ul></div>
<div class="section level4">
<h4 id="enhanced-error-handling-0-3-0">Enhanced Error Handling<a class="anchor" aria-label="anchor" href="#enhanced-error-handling-0-3-0"></a></h4>
<ul><li>
<strong>Graceful Degradation</strong>: Improved fallback mechanisms for failed data retrievals</li>
<li>
<strong>Better Diagnostics</strong>: Enhanced error messages and troubleshooting information</li>
<li>
<strong>Retry Logic</strong>: Smart retry mechanisms with exponential backoff</li>
<li>
<strong>Progress Reporting</strong>: Real-time progress updates during long-running operations</li>
</ul></div>
<div class="section level4">
<h4 id="data-quality-improvements-0-3-0">Data Quality Improvements<a class="anchor" aria-label="anchor" href="#data-quality-improvements-0-3-0"></a></h4>
<ul><li>
<strong>Validation Rules</strong>: Comprehensive validation for all datasets</li>
<li>
<strong>Metadata Tracking</strong>: Enhanced metadata preservation and source tracking</li>
<li>
<strong>Format Standardization</strong>: Consistent data formatting across all sources</li>
<li>
<strong>Quality Metrics</strong>: Automated quality assessment and reporting</li>
</ul></div>
</div>
<div class="section level3">
<h3 id="migration-notes-0-3-0">Migration Notes<a class="anchor" aria-label="anchor" href="#migration-notes-0-3-0"></a></h3>
<div class="section level4">
<h4 id="for-existing-users-0-3-0">For Existing Users<a class="anchor" aria-label="anchor" href="#for-existing-users-0-3-0"></a></h4>
<ul><li>All existing functions continue to work unchanged</li>
<li>Enhanced reliability and performance with new pipeline backend</li>
<li>Improved error messages and troubleshooting information</li>
<li>Better cache management and fallback strategies</li>
</ul></div>
<div class="section level4">
<h4 id="for-developers-0-3-0">For Developers<a class="anchor" aria-label="anchor" href="#for-developers-0-3-0"></a></h4>
<ul><li>New targets pipeline provides foundation for custom data workflows</li>
<li>Enhanced validation framework for quality assurance</li>
<li>Standardized helper functions for consistent data processing</li>
<li>Comprehensive pipeline documentation and examples</li>
</ul><hr><p><em>This release establishes the foundation for automated data processing and validation, setting the stage for Phase 3 implementation with large dataset support.</em></p>
<p><strong>Full Changelog</strong>: <a href="https://github.com/viniciusoike/realestatebr/compare/v0.2.0" class="external-link uri">https://github.com/viniciusoike/realestatebr/compare/v0.2.0</a>‚Ä¶v0.3.0</p>
<hr></div>
</div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.0" id="realestatebr-020">realestatebr 0.2.0<a class="anchor" aria-label="anchor" href="#realestatebr-020"></a></h2>
<div class="section level3">
<h3 id="major-features-and-improvements-0-2-0">Major Features and Improvements<a class="anchor" aria-label="anchor" href="#major-features-and-improvements-0-2-0"></a></h3>
<div class="section level4">
<h4 id="id_-phase-modernization-complete-0-2-0">üéØ Phase 1 Modernization Complete<a class="anchor" aria-label="anchor" href="#id_-phase-modernization-complete-0-2-0"></a></h4>
<ul><li>
<strong>Modernized 13 core <code>get_*</code> functions</strong> with consistent APIs, CLI-based error handling, and progress reporting</li>
<li>
<strong>Standardized function signatures</strong> with <code>table</code>, <code>cached</code>, <code>quiet</code>, and <code>max_retries</code> parameters</li>
<li>
<strong>Robust error handling</strong> with retry logic, exponential backoff, and informative error messages</li>
<li>
<strong>Enhanced documentation</strong> with comprehensive examples and <a href="https://github.com/section" class="external-link">@section</a> blocks</li>
</ul></div>
<div class="section level4">
<h4 id="id_-new-unified-data-architecture-0-2-0">üìä New Unified Data Architecture<a class="anchor" aria-label="anchor" href="#id_-new-unified-data-architecture-0-2-0"></a></h4>
<ul><li>
<strong><code><a href="../reference/list_datasets.html">list_datasets()</a></code></strong> - Discover available datasets with filtering capabilities</li>
<li>
<strong><code><a href="../reference/get_dataset.html">get_dataset()</a></code></strong> - Unified data access function with intelligent fallback</li>
<li>
<strong>Registry system</strong> in <code>inst/extdata/datasets.yaml</code> for centralized dataset management</li>
<li>
<strong>Improved caching</strong> with standardized cache location and validation</li>
</ul></div>
<div class="section level4">
<h4 id="id_-api-standardization-0-2-0">üîß API Standardization<a class="anchor" aria-label="anchor" href="#id_-api-standardization-0-2-0"></a></h4>
<ul><li>
<strong>Introduced <code>table</code> parameter</strong> replacing <code>category</code> across all functions</li>
<li>
<strong>Backward compatibility maintained</strong> with deprecation warnings for <code>category</code> parameter</li>
<li>
<strong>Consistent return types</strong> - single tibble by default, list when <code>table = "all"</code>
</li>
<li>
<strong>Metadata attributes</strong> on all returned data with source tracking and download info</li>
</ul></div>
<div class="section level4">
<h4 id="id_-new-data-sources-0-2-0">üìà New Data Sources<a class="anchor" aria-label="anchor" href="#id_-new-data-sources-0-2-0"></a></h4>
<ul><li>
<strong>CBIC construction materials data</strong>:
<ul><li>
<code><a href="../reference/get_cbic_cement.html">get_cbic_cement()</a></code> - Cement consumption, production, and CUB prices</li>
<li>
<code><a href="../reference/get_cbic_steel.html">get_cbic_steel()</a></code> - Steel prices and production data</li>
<li>
<code><a href="../reference/get_cbic_pim.html">get_cbic_pim()</a></code> - Industrial production indices</li>
</ul></li>
<li>
<strong>Enhanced RPPI suite</strong> with improved coordination and error handling</li>
<li>
<strong>Updated B3 stock data</strong> with standardized column names</li>
</ul></div>
<div class="section level4">
<h4 id="id_-performance-and-reliability-0-2-0">üöÄ Performance and Reliability<a class="anchor" aria-label="anchor" href="#id_-performance-and-reliability-0-2-0"></a></h4>
<ul><li>
<strong>Progress reporting</strong> with <code>cli</code> package integration for long-running operations</li>
<li>
<strong>Exponential backoff</strong> for failed web scraping and API calls</li>
<li>
<strong>Parallel processing support</strong> in web scraping functions</li>
<li>
<strong>Comprehensive input validation</strong> with helpful error messages</li>
</ul></div>
<div class="section level4">
<h4 id="id_-bilingual-support-0-2-0">üåê Bilingual Support<a class="anchor" aria-label="anchor" href="#id_-bilingual-support-0-2-0"></a></h4>
<ul><li>
<strong>Translation system</strong> for Portuguese/English column names and values</li>
<li>
<strong>Standardized naming conventions</strong> across all datasets</li>
<li>
<strong>Region and state name translations</strong> for geographic data</li>
</ul></div>
</div>
<div class="section level3">
<h3 id="breaking-changes-0-2-0">Breaking Changes<a class="anchor" aria-label="anchor" href="#breaking-changes-0-2-0"></a></h3>
<div class="section level4">
<h4 id="parameter-changes-0-2-0">Parameter Changes<a class="anchor" aria-label="anchor" href="#parameter-changes-0-2-0"></a></h4>
<ul><li>
<strong><code>category</code> parameter deprecated</strong> across all functions in favor of <code>table</code>
<ul><li>Backward compatibility maintained with deprecation warnings</li>
<li>Will be removed in a future version</li>
<li>Migration: Replace <code>category = "value"</code> with <code>table = "value"</code>
</li>
</ul></li>
</ul></div>
<div class="section level4">
<h4 id="cache-location-0-2-0">Cache Location<a class="anchor" aria-label="anchor" href="#cache-location-0-2-0"></a></h4>
<ul><li>
<strong>Cache moved</strong> from <code>cached_data/</code> to <code>inst/cached_data/</code> for package compliance</li>
<li>Existing cache files automatically migrated</li>
</ul></div>
</div>
<div class="section level3">
<h3 id="modernized-functions-0-2-0">Modernized Functions<a class="anchor" aria-label="anchor" href="#modernized-functions-0-2-0"></a></h3>
<div class="section level4">
<h4 id="fully-modernized-functions-0-2-0">Fully Modernized (13 functions)<a class="anchor" aria-label="anchor" href="#fully-modernized-functions-0-2-0"></a></h4>
<ul><li>
<code><a href="../reference/get_abecip_indicators.html">get_abecip_indicators()</a></code> - ABECIP real estate financing data</li>
<li>
<code><a href="../reference/get_abrainc_indicators.html">get_abrainc_indicators()</a></code> - ABRAINC launches and sales data</li>
<li>
<code>get_b3_stocks()</code> - B3 stock market data with improved column naming</li>
<li>
<code><a href="../reference/get_bcb_realestate.html">get_bcb_realestate()</a></code> - Central Bank real estate credit data</li>
<li>
<code><a href="../reference/get_bcb_series.html">get_bcb_series()</a></code> - BCB macroeconomic time series</li>
<li>
<code><a href="../reference/get_rppi_bis.html">get_rppi_bis()</a></code> - Bank for International Settlements RPPI data</li>
<li>
<code><a href="../reference/get_cbic_cement.html">get_cbic_cement()</a></code> - CBIC cement industry data (NEW)</li>
<li>
<code><a href="../reference/get_cbic_steel.html">get_cbic_steel()</a></code> - CBIC steel industry data (NEW)</li>
<li>
<code><a href="../reference/get_cbic_pim.html">get_cbic_pim()</a></code> - CBIC industrial production data (NEW)</li>
<li>
<code>get_fgv_indicators()</code> - FGV construction confidence indicators</li>
<li>
<code><a href="../reference/get_nre_ire.html">get_nre_ire()</a></code> - Real Estate Index from NRE-Poli USP</li>
<li>
<code><a href="../reference/get_property_records.html">get_property_records()</a></code> - Property registration data with robust Excel processing</li>
<li>
<code><a href="../reference/get_rppi.html">get_rppi()</a></code> - Comprehensive RPPI coordinator with all sources</li>
<li>
<code><a href="../reference/get_secovi.html">get_secovi()</a></code> - SECOVI-SP real estate data with parallel processing</li>
</ul></div>
<div class="section level4">
<h4 id="legacy-functions-maintained-0-2-0">Legacy Functions (Maintained)<a class="anchor" aria-label="anchor" href="#legacy-functions-maintained-0-2-0"></a></h4>
<ul><li>
<code><a href="../reference/get_rppi_bis.html">get_rppi_bis()</a></code> - Main function with modernized backend and single tibble returns</li>
<li>
<code><a href="../reference/get_itbi.html">get_itbi()</a></code> and <code>get_itbi_bhe()</code> - Planned for Phase 3 (DuckDB integration)</li>
</ul></div>
</div>
<div class="section level3">
<h3 id="infrastructure-improvements-0-2-0">Infrastructure Improvements<a class="anchor" aria-label="anchor" href="#infrastructure-improvements-0-2-0"></a></h3>
<div class="section level4">
<h4 id="new-architecture-components-0-2-0">New Architecture Components<a class="anchor" aria-label="anchor" href="#new-architecture-components-0-2-0"></a></h4>
<ul><li>
<strong>Dataset registry system</strong> with YAML configuration</li>
<li>
<strong>Unified cache management</strong> with validation and fallback</li>
<li>
<strong>Translation framework</strong> for multilingual support</li>
<li>
<strong>Helper function ecosystem</strong> for robust web operations</li>
</ul></div>
<div class="section level4">
<h4 id="developer-experience-0-2-0">Developer Experience<a class="anchor" aria-label="anchor" href="#developer-experience-0-2-0"></a></h4>
<ul><li>
<strong>Comprehensive test suite</strong> with 35+ tests covering all modernized functions</li>
<li>
<strong>Consistent documentation patterns</strong> with <a href="https://github.com/section" class="external-link">@section</a> blocks and examples</li>
<li>
<strong>CLI-based development workflow</strong> with <code>devtools</code> integration</li>
<li>
<strong>GitHub Actions</strong> for automated testing and deployment</li>
</ul></div>
</div>
<div class="section level3">
<h3 id="migration-guide-0-2-0">Migration Guide<a class="anchor" aria-label="anchor" href="#migration-guide-0-2-0"></a></h3>
<div class="section level4">
<h4 id="for-existing-code-0-2-0">For Existing Code<a class="anchor" aria-label="anchor" href="#for-existing-code-0-2-0"></a></h4>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Old (deprecated but still works)</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_abecip_indicators.html">get_abecip_indicators</a></span><span class="op">(</span>category <span class="op">=</span> <span class="st">"all"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># New (recommended)</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_abecip_indicators.html">get_abecip_indicators</a></span><span class="op">(</span>table <span class="op">=</span> <span class="st">"all"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="for-new-code-0-2-0">For New Code<a class="anchor" aria-label="anchor" href="#for-new-code-0-2-0"></a></h4>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Discover available datasets</span></span>
<span><span class="va">datasets</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/list_datasets.html">list_datasets</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Get data with unified interface</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_dataset.html">get_dataset</a></span><span class="op">(</span><span class="st">"abecip_indicators"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Use modernized functions with progress</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_abecip_indicators.html">get_abecip_indicators</a></span><span class="op">(</span>table <span class="op">=</span> <span class="st">"indicators"</span>, quiet <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="technical-details-0-2-0">Technical Details<a class="anchor" aria-label="anchor" href="#technical-details-0-2-0"></a></h3>
<div class="section level4">
<h4 id="dependencies-0-2-0">Dependencies<a class="anchor" aria-label="anchor" href="#dependencies-0-2-0"></a></h4>
<ul><li>
<strong>Added</strong>: <code>cli</code> for modern error handling and progress reporting</li>
<li>
<strong>Enhanced</strong>: Better integration with <code>dplyr</code>, <code>readr</code>, <code>httr</code>, and <code>rvest</code>
</li>
<li>
<strong>Maintained</strong>: Full backward compatibility with existing dependencies</li>
</ul></div>
<div class="section level4">
<h4 id="performance-0-2-0">Performance<a class="anchor" aria-label="anchor" href="#performance-0-2-0"></a></h4>
<ul><li>
<strong>Improved web scraping</strong> with intelligent retry logic</li>
<li>
<strong>Faster cache access</strong> with optimized file structure</li>
<li>
<strong>Better memory usage</strong> with streaming and lazy loading where appropriate</li>
</ul><hr><p><em>This release represents the completion of Phase 1 modernization, establishing a solid foundation for Phase 2 (data pipeline automation) and Phase 3 (large dataset support with DuckDB).</em></p>
<p><strong>Full Changelog</strong>: <a href="https://github.com/viniciusoike/realestatebr/compare/v0.1.5" class="external-link uri">https://github.com/viniciusoike/realestatebr/compare/v0.1.5</a>‚Ä¶v0.2.0</p>
</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Vinicius Oike Reginatto.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

