% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/get_property_records.R
\name{get_property_records}
\alias{get_property_records}
\title{Get Property Records Table}
\usage{
get_property_records(
  table = "capitals",
  cached = FALSE,
  quiet = FALSE,
  max_retries = 3L
)
}
\arguments{
\item{table}{Character. One of:
\describe{
\item{"capitals"}{Records data for capital cities (default)}
\item{"capitals_transfers"}{Transfer data for capital cities}
\item{"cities"}{Records data for all cities}
\item{"aggregates"}{Records data for SP regional aggregates}
\item{"aggregates_transfers"}{Transfer data for SP aggregates}
}}

\item{cached}{Logical. If \code{TRUE}, attempts to load data from package cache.}

\item{quiet}{Logical. If \code{TRUE}, suppresses progress messages and warnings.
If \code{FALSE} (default), provides detailed progress reporting.}

\item{max_retries}{Integer. Maximum number of retry attempts for failed
downloads. Defaults to 3.}
}
\value{
A \code{tibble} with the requested property records table. The return includes
metadata attributes:
\describe{
\item{download_info}{List with download statistics}
\item{source}{Data source used (web or cache)}
\item{download_time}{Timestamp of download}
}
}
\description{
Imports and cleans specific tables from the most up to date property transaction
records available from Registro de Imoveis with modern error handling, progress
reporting, and robust download capabilities.
}
\details{
This function scrapes download links from the Registro de Imoveis website
and processes Excel files containing property transaction data. The function
handles multiple data categories and includes comprehensive data cleaning.
}
\section{Progress Reporting}{

When \code{quiet = FALSE}, the function provides detailed progress information
including web scraping status, download progress, and data processing steps.
}

\section{Error Handling}{

The function includes retry logic for failed downloads and robust error
handling for web scraping and Excel processing operations.
}

\examples{
\dontrun{
# Get capitals records data (default)
capitals <- get_property_records()

# Get transfer data for capital cities
transfers <- get_property_records("capitals_transfers")

# Get all cities records data
cities <- get_property_records("cities")

# Get SP regional aggregates
aggregates <- get_property_records("aggregates")

# Use cached data for faster access
cached_data <- get_property_records("capitals", cached = TRUE)

# Check download metadata
attr(capitals, "download_info")
}
}
